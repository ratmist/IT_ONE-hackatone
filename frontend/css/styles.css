:root{
  --bg:#101a2b; --panel:#101a2b; --border:#25282e; --thead:#181f2e; --sidebar:250px;
  --text:#ffffff; --text-muted:#9aa4b2; --bg-muted:rgba(0,0,0,.45); --dark-blue:#081f44;
  --blue:#3280fd; --blue-hover:#1257c7; --bg-blue:#3280fd38; --text-dark-muted:#53585d; --orange-text:#e6700f;
  --green-bg:rgba(10,147,60,.16); --green-text:#9ee1b7; --green-border:rgba(10,147,60,.38);
  --red-bg:rgba(202,30,30,.16); --red-text:#f35050; --red-border:rgba(202,30,30,.38);
  --yellow-bg:rgba(205,140,10,.18); --yellow-text:#ecbe32; --yellow-border:rgba(205,140,10,.45);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--text);background:var(--bg);font:16px/1.45 system-ui,sans-serif}
.app{display:flex;min-height:100vh}

.sidebar{position:static;width:var(--sidebar);background:var(--panel);display:flex;flex-direction:column;padding:36px 24px;border-right:2px solid var(--border);gap:12px}
.sb-header{display:flex;gap:16px;align-items:center}
.u-meta{display:flex;flex-direction:column}
.u-mail{font-size:12px;color:var(--text-muted)}
.sb-nav{padding:12px 0}
.nav-item{display:flex;gap:12px;align-items:center;color:var(--text);text-decoration:none;padding:8px 12px;margin:4px 0;border-radius:10px;font-weight:600}
.nav-item:hover{background:var(--dark-blue)}
.nav-item.active{background:var(--blue);color:var(--text)}
.ico{display:grid;place-items:center}

.main{flex:1 1 auto;margin:0;width:auto;padding:24px}

.page-hd{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:24px}
.title{font-size:36px;font-weight:800}
.actions{display:flex;gap:10px;align-items:center}

.btn-blue{display:flex;align-items:center;gap:12px;background:var(--blue);color:var(--text);border:none;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:16px}
.btn-blue:hover{background:var(--blue-hover)}
.text-dark-muted{color: var(--text-dark-muted);}
.btn-red{display:flex;align-items:center;gap:12px;background:var(--red-text);color:var(--text);border:none;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:16px}
.btn-red:hover{background:var(--red-border)}
.btn-green{display:flex;align-items:center;gap:12px;background:var(--green-border);color:var(--text);border:none;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:16px}
.btn-green:hover{background:var(--green-bg)}
.btn-accept{width:full; display:flex;align-items:center;gap:12px;background:var(--green-border);color:var(--text);border:2px solid var(--green-border);padding:8px;border-radius:10px;cursor:pointer;font-weight:600;font-size:16px;justify-content: center;}
.btn-accept:hover{background:var(--green-bg)}
.btn-decline{width:full; display:flex;align-items:center;gap:12px;background:var(--red-border);color:var(--text);border:2px solid var(--red-border);padding:8px;border-radius:10px;cursor:pointer;font-weight:600;font-size:16px;justify-content: center;}
.btn-decline:hover{background:var(--red-bg)}
.btn-check{width:full; display:flex;align-items:center;gap:12px;background:var(--blue);color:var(--text);border:2px solid var(--dark-blue);padding:8px;border-radius:10px;cursor:pointer;font-weight:600;font-size:16px;justify-content: center;}
.btn-check:hover{background:var(--blue-hover)}
.btn-muted{cursor: not-allowed;width:full; display:flex;align-items:center;gap:12px;background:var(--text-dark-muted);color:var(--text);border:2px solid var(--border);padding:8px;border-radius:10px;font-weight:600;font-size:16px;justify-content: center;}

.table.card{background:var(--panel);border:2px solid var(--border);border-radius:14px;overflow:hidden}
.thead{color:var(--text-muted);font-size:12px;text-transform:uppercase}
.thead-row{display:grid;grid-template-columns:.4fr 1.2fr .6fr .6fr .6fr .6fr 150px;align-items:center;padding:16px;background:var(--thead);font-weight:700}
.tbody .row{display:grid;grid-template-columns:.4fr 1.2fr .6fr .6fr .6fr .6fr 150px;align-items:center;padding:20px 16px;color:var(--text);border-top:2px solid var(--border)}
.thead-row-tx{display:grid;grid-template-columns:1.3fr .5fr .6fr .6fr .5fr .5fr 120px;align-items:center;padding:16px;background:var(--thead);font-weight:700}
.tbody-tx .row{display:grid;grid-template-columns:1.3fr .5fr .6fr .6fr .5fr .5fr 120px;align-items:center;padding:20px 16px;color:var(--text);border-top:2px solid var(--border)}
.thead-tx{color:var(--text-muted);font-size:12px;text-transform:uppercase}

.tbody .row:first-child{border-top:0}
.name{font-weight:600}
.actions-cell{display:flex;gap:8px}
.icon-btn{width:36px;height:36px;display:grid;place-items:center;background:var(--thead);border:1px solid var(--border);border-radius:10px;cursor:pointer}
.icon-btn:hover{background:var(--bg)}

.modal{position:fixed;inset:0;background:var(--bg-muted);display:none;align-items:center;justify-content:center;z-index:50}
.modal.show{display:flex}
.dialog{width:800px;max-width:92vw;background:var(--panel);border:2px solid var(--border);border-radius:16px;padding:16px}
.field{font-size:16px;display:flex;flex-direction:column;gap:8px;margin:8px 0}
.input,.textarea,.select-full{background:var(--thead);border:2px solid var(--border);color:var(--text);border-radius:10px;padding:12px;font-size:14px;}
.textarea{min-height:64px;resize:vertical}
.row.end{display:flex;justify-content:flex-end;gap:8px}
.row.start{display:flex;justify-content:flex-start;gap:8px}

.switch{display:inline-flex;align-items:center;gap:10px;background:transparent;border:0;padding:0;cursor:pointer;color:inherit;font:inherit}
.switch-track{width:42px;height:24px;border-radius:999px;position:relative;border:1px solid var(--border)}
.switch-thumb{position:absolute;top:1px;left:1px;width:20px;height:20px;border-radius:50%;background:currentColor;transition:transform .18s ease}
.switch-label{font-weight:600}
.switch.is-on{--sw-solid:var(--green-border);--sw-bg:var(--green-bg);color:var(--green-text)}
.switch.is-off{--sw-solid:var(--red-border);--sw-bg:var(--red-bg);color:var(--red-text)}
.switch.is-on .switch-thumb{transform:translateX(18px)}
.switch.is-on .switch-track,.switch.is-off .switch-track{background:var(--sw-bg);border-color:var(--sw-bd)}

.badge{display:inline-flex;gap:6px;align-items:center;padding:6px 12px;border-radius:999px;font-size:12px;font-weight:700;border:1px solid transparent}
.badge.success{background:var(--green-bg);color:var(--green-text);border-color:var(--green-border)}
.badge.warn{background:var(--yellow-bg);color:var(--yellow-text);border-color:var(--yellow-border)}
.badge.danger{background:var(--red-bg);color:var(--red-text);border-color:var(--red-border)}

#pager{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;margin-top:24px}
.page-btn{min-width:38px;height:38px;border-radius:10px;border:2px solid var(--border);background:var(--dark-blue);color:var(--text);font-weight:600;cursor:pointer;transition:all .2s ease}
.page-btn:hover:not(:disabled){border-color:var(--blue)}
.page-btn.active{background:var(--blue);border-color:var(--blue)}
.pager-stat{color:var(--text-muted);font-weight:600;margin-left:auto}

.link{color:var(--text);text-decoration:none;display:flex;align-items:center;gap:12px}
.link:hover{color:var(--blue)}

.crumbs{color:var(--text-muted);font-size:14px;margin-bottom:8px}
.crumbs .link{color:var(--text);gap:8px}
.crumbs .link:hover{color:var(--blue)}

.tx-grid{display:grid;grid-template-columns:400px 1fr;gap:16px}
.tx-card{background:var(--thead);border:2px solid var(--border);border-radius:14px;padding:16px}
.kv{display:grid;grid-template-columns:1fr 1fr;gap:16px 24px}
.kv .k{color:var(--text-muted);font-weight:600}
.kv .v{color:var(--text)}
#summary .kv .v{text-align:right;justify-self:end}
.section-h{font-weight:800;margin:0 0 10px}
.mb-12{margin-bottom:12px}
.mt-12{margin-top:12px}
.pill{display:inline-block;padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px;border:2px solid transparent}
.pill-success{background:var(--green-bg);color:var(--green-text);border-color:var(--green-border)}
.pill-danger{background:var(--red-bg);color:var(--red-text);border-color:var(--red-border)}
.mb-24{margin-bottom:24px}
.card-hd{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}

.tabs input[type=radio]{position:absolute;opacity:0;pointer-events:none}
.tab-head{display:flex;gap:8px;border-bottom:2px solid var(--border);margin-bottom:12px}
.tab-head label{padding:8px 12px;border:2px solid var(--border);border-bottom:none;background:var(--thead);border-top-left-radius:10px;border-top-right-radius:10px;font-weight:700;color:var(--text-muted);cursor:pointer}
.tab-head:has(#t-details:checked) label[for="t-details"],.tab-head:has(#t-logs:checked) label[for="t-logs"]{color:var(--text);background:var(--bg);border-color:var(--blue)}
.tab-body .tab-panel{display:none}
.tab-head:has(#t-details:checked) ~ .tab-body .tab-panel:nth-child(1){display:block}
.tab-head:has(#t-logs:checked) ~ .tab-body .tab-panel:nth-child(2){display:block}
.empty-logs{padding:20px;border:2px dashed var(--border);border-radius:12px;color:var(--text-muted);background:var(--thead)}

.type-group{display:flex;gap:8px;flex-wrap:wrap}
.type-btn{padding:8px 12px;border:2px solid var(--border);background:var(--thead);color:var(--text);border-radius:10px;font-weight:600;cursor:pointer;font-size:14px}
.type-btn[disabled]{opacity:.5;cursor:not-allowed}
.type-btn.active{border-color:var(--blue)}
.type-btn:hover{background:var(--blue-hover)}
.fieldTitle{display:flex;gap:8px;flex-direction:column;font-weight:600;font-size:16px}
.rule-form{display:flex;gap:12px;flex-direction:column}

.comp-list{display:flex;flex-direction:column;gap:8px}
.cond-row{display:grid;grid-template-columns:1.2fr .8fr 1fr auto;gap:8px;align-items:center}
.cond-row .select-ui[data-name="compCol"] .select-btn{max-width: 100%;}
.cond-row .input{width:100%}
.join-cell{display:flex;align-items:center;gap:8px}
.remove-btn{width:36px;height:36px;display:grid;place-items:center;background:var(--thead);border:2px solid var(--border);border-radius:10px;cursor:pointer}
.remove-btn:hover{background:var(--bg)}
.btn-line{background:transparent;border:2px dashed var(--border);color:var(--text);border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer}

.select-ui-tx{position:relative;width:auto; display: flex; flex-direction: row; gap: 12px;}
.select-ui{position:relative;display:inline-block;width:100%;font-size:14px}
.select-btn{width:100%;background:var(--thead);border:2px solid var(--border);color:var(--text);border-radius:10px;padding:10px 36px 10px 12px;font:600 20px;cursor:pointer;text-align:left;background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23cbd5e1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='m6 9 6 6 6-6'/></svg>");background-repeat:no-repeat;background-position:right 10px center;background-size:16px}
.select-btn:hover{background:var(--bg)}
.select-ui.open .select-btn{outline:2px solid var(--blue);outline-offset:2px}
.select-menu{position:absolute;z-index:60;top:calc(100% + 6px);left:0;min-width:100%;background:#121a2a;color:var(--text);border:2px solid var(--border);border-radius:10px;padding:6px;margin:0;list-style:none;display:none;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.select-ui.open .select-menu{display:block}
.select-menu li{padding:8px 10px;border-radius:8px;cursor:pointer;white-space:nowrap;font-weight:600}
.select-menu li:hover{background:var(--dark-blue)}
.select-menu li.active{background:var(--dark-blue)}

.toolbar .filters{display:flex; gap:12px;}
.toolbar .filters .select-ui{width:auto;}
.toolbar .filters .select-btn{width:auto;padding-right:36px;}
.modal .select-ui, .modal .select-btn{width:100%;}

.select-btn{font: 600 16px/1.2 system-ui, sans-serif;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;}
.select-menu li{font-size: 16px;white-space: nowrap;}
.cond-row .select-ui[data-name="compCol"] .select-btn{max-width: 100%;}

.rv{display:grid;grid-template-columns:0.5fr 1fr;gap:16px 24px}
.rv .k{color:var(--text-muted);font-weight:600}
.rv .v{color:var(--text)}
#summary .rv .v{text-align:right;justify-self:end}

.conditions-container {position: relative;}
.condition-group {margin: 24px 0;padding: 12px 12px 12px 24px;border-radius: 10px;position: relative;border-left: 3px solid --blue;}
.condition-group::before {content: '';position: absolute;left: -3px;top: 0;bottom: 0;width: 3px;background: var(--blue);border-radius: 2px;}
.condition-item {padding: 10px 12px 10px 20px;border-radius: 10px;margin: 8px 0;position: relative;border-left: 2px solid --green-text;}
.condition-item::before {content: '';position: absolute;left: -2px;top: 0;bottom: 0;width: 2px;background: var(--green-text);border-radius: 2px;}
.condition-item div {margin: 3px 0;font-size: 14px;}
.condition-join {text-align: center;font-weight: 600;color: var(--text-muted);margin: 8px 0;padding: 4px;border-radius: 10px;border: 2px dashed;border-color: var(--text-muted);}
.condition-item strong {color: var(--text-muted);font-weight: 600;}
.code-block {border: 2px solid var(--border);border-radius: 10px; padding: 12px; font-family: 'Courier New', monospace;color: var(--text);font-size: 14px;}


.rule-type-badge {padding: 8px 12px; border-radius: 10px;font-weight: 700;font-size: 12px;text-transform: uppercase;background: var(--blue);color: var(--text);flex-shrink: 0;}
.rule-header {display: flex;justify-content: space-between; align-items: flex-start;margin-top: 12px;margin-bottom: 24px;}
.rule-header h2 {margin: 0;flex: 1;}
.form-section {display: flex;flex-direction: column;gap: 12px;}
.expression-preview {display: flex;flex-direction: column;gap: 12px;margin-top: 12px; margin-bottom: 12px;}
.toolbar-section .section-title {font-size: 12px;font-weight: 700;color: var(--text-muted);margin-bottom: 4px;text-transform: uppercase;}
.toolbar-section {display: flex;flex-direction: column;gap: 4px;min-width: 0;}
.toolbar-footer {display: flex;justify-content: space-between; }
.toolbar-row {display: flex;gap: 32px;align-items: flex-start;}
.button-group.horizontal {display: flex;flex-wrap: wrap;gap: 8px;}
.builder-toolbar-horizontal {display: flex;flex-direction: column;gap: 16px;padding: 20px;border-radius: 10px;border: 2px solid var(--border);background: var(--thead);}
.builder-btn-horizontal {padding: 8px 12px;border: 2px solid var(--border);border-radius: 8px;cursor: pointer;background: var(--panel);color: var(--text);white-space: nowrap;font-weight: 600;font-size: 14px;flex-shrink: 0;}
.builder-btn-horizontal:hover {border-color: var(--blue);background: var(--dark-blue);}
.value-inputs.horizontal {display: flex;gap: 12px;align-items: center;flex-shrink: 0;}
.value-inputs.horizontal .input {width: 140px;padding: 8px 12px;font-size: 14px;border: 2px solid var(--border);border-radius: 8px;flex-shrink: 0;}
.value-inputs.horizontal .btn-line {padding: 8px 16px; font-size: 14px;white-space: nowrap;border: 2px solid var(--border);border-radius: 8px;font-weight: 600;flex-shrink: 0;}
.value-inputs.horizontal .btn-line:hover {border-color: var(--blue);background: var(--dark-blue);}
.edit-btn {width: 40px;height: 40px;display: grid;place-items: center;border: 2px solid var(--bg-muted);border-radius: 10px;cursor: pointer;color: var(--text);flex-shrink: 0;}
.edit-del{background: var(--red-border);}
.edit-del:hover {border-color: var(--red-text);}
.edit-check{background: var(--green-border);}
.edit-check:hover {border-color: var(--green-text);}
.expression-field {min-height: 50px;background:var(--thead);border:2px solid var(--border);color:var(--text);border-radius:10px;padding:12px;font-size:14px;}
.expression-field:focus {outline: none;border-color: var(--blue);}
.expression-field[placeholder]:empty:before {content: attr(placeholder);color: var(--text-muted);}
.builder-actions {display: flex;gap: 12px;justify-content: flex-end;}
.form-grid {display: grid;grid-template-columns: 1fr 1fr 1fr;gap: 16px;margin: 16px 0;}
.form-grid .select-btn {font-size: 14px;}
.form-grid .input {font-size: 14px;}
.modal-actions {display: flex;justify-content: flex-end;gap: 12px;margin-top: 24px;}
.edit-actions {display: flex;gap: 8px;margin: 16px 0;}
.pattern-grid {grid-template-columns: 1fr 1fr;gap: 16px;}
.action-buttons {margin-top: 20px;padding-top: 20px;border-top: 1px solid var(--border);display: flex;gap: 12px;flex-wrap: wrap;flex-direction: column;width: full;}

.test-summary {padding: 16px;margin-bottom: 20px;}
.summary-grid {display: grid;grid-template-columns: repeat(3, 1fr);gap: 16px;}
.summary-item {text-align: center;padding: 12px;background: var(--thead);border-radius: 6px;border: 1px solid var(--text-dark-muted);}
.summary-label {font-size: 16px; color: var(--text);margin-bottom: 4px;}
.summary-value {font-size: 18px;font-weight: 800;color: var(--blue);}
.test-results {max-height: 400px;overflow-y: auto;}
.results-list {display: flex;flex-direction: column;gap: 12px;}
.result-item {padding: 16px;border: 1px solid var(--text-dark-muted);border-radius: 10px;background: var(--thead);}
.result-item.triggered {border-left: 4px solid var(--red-text);}
.result-header {display: flex;justify-content: space-between;align-items: center;margin-bottom: 8px;}
.result-id {font-weight: 600;color: var(--text);}
.result-status {font-size: 12px;padding: 4px 8px;border-radius: 12px;font-weight: 500;}
.result-reason {font-size: 13px;color: var(--muted);font-family: monospace;background: var(--bg-secondary);padding: 8px;border-radius: 4px;white-space: pre-wrap;}

.progress-container {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0, 0, 0, 0.5);display: flex;flex-direction: column;justify-content: center;align-items: center;z-index: 10000;}
.progress-box {background: var(--thead);padding: 40px; border-radius: 10px;min-width: 300px;text-align: center;}
.progress-title {color:var(--text);font-size: 20px;font-weight: 600;}
.progress-bar-container {width: 100%;height: 8px;background: #e9ecef;border-radius: 10px;overflow: hidden;margin-bottom: 12px;border: 1px solid var(--dark-blue);}
.progress-bar {width: 0%;height: 100%;background: var(--blue);border-radius: 10px;transition: width 0.3s ease;}
.progress-text {font-size: 16px;color: var(--text-muted);margin-bottom: 12px;font-weight: 500;}
.progress-details {font-size: 14px;color: var(--text-muted);min-height: 16px;}

.stats-grid {display: grid;grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));gap: 20px;margin-bottom: 32px;}
.stat-card {background: var(--panel);border: 2px solid var(--border);border-radius: 14px;padding: 24px;display: flex;align-items: center;gap: 16px;transition: all 0.3s ease;}
.stat-card:hover {border-color: var(--blue);transform: translateY(-2px);}
.stat-icon {width: 60px;height: 60px;border-radius: 12px;display: flex;align-items: center;justify-content: center;flex-shrink: 0;}
.stat-icon.success {background: var(--green-bg);color: var(--green-text);border: 2px solid var(--green-border);}
.stat-icon.danger { background: var(--red-bg);color: var(--red-text);border: 2px solid var(--red-border);}
.stat-icon.warning {background: var(--yellow-bg);color: var(--yellow-text);border: 2px solid var(--yellow-border);}
.stat-icon.info {background: var(--bg-blue);color: var(--blue);border: 2px solid var(--blue-hover);}
.stat-content {flex: 1;}
.stat-value {font-size: 32px;font-weight: 800;color: var(--text);line-height: 1;margin-bottom: 4px;}
.stat-label {font-size: 14px;color: var(--text-muted);font-weight: 600;margin-bottom: 8px;}
.stat-trend {font-size: 12px;font-weight: 700;padding: 4px 8px;border-radius: 6px;display: inline-block;}
.stat-trend.positive {background: var(--green-bg);color: var(--green-text);border: 1px solid var(--green-border);}
.stat-trend.negative {background: var(--red-bg);color: var(--red-text);border: 1px solid var(--red-border);}
.charts-grid {display: grid;grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));gap: 24px;margin-bottom: 32px;}
.chart-card {background: var(--panel);border: 2px solid var(--border);border-radius: 14px;padding: 20px;height: 300px;}
.chart-header {margin-bottom: 16px;}
.chart-header h3 {margin: 0;font-size: 18px;font-weight: 700;color: var(--text);}
.chart-container {height: calc(100% - 40px);position: relative;}
.detail-stats {margin-bottom: 32px; display: flex;flex-direction: column; gap: 24px;}
.detail-card {background: var(--panel);border: 2px solid var(--border);border-radius: 14px;padding: 24px;}
.detail-card h3 {margin: 0 0 20px 0;font-size: 20px;font-weight: 700;color: var(--text);}
.detail-grid {display: grid;grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));gap: 16px;}
.detail-item {display: flex;justify-content: space-between;align-items: center;padding: 12px 0;border-bottom: 1px solid var(--border);}
.detail-item:last-child {border-bottom: none;}
.detail-label {color: var(--text-muted);font-weight: 600;}
.detail-value {color: var(--text);font-weight: 700;font-size: 16px;}

.progress-container {position: fixed;top: 0; left: 0;right: 0;bottom: 0;background: rgba(0, 0, 0, 0.5);display: flex;align-items: center;justify-content: center;z-index: 10001;}
.progress-container.minimized {display: none;}
.progress-box {background: var(--thead);padding: 24px;border-radius: 14px;border: 2px solid var(--border);box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);min-width: 400px;max-width: 500px;}
.progress-header {display: flex;justify-content: space-between;align-items: center;margin-bottom: 16px;}
.progress-title {margin: 0;font-size: 20px;font-weight: 700;color: var(--text);}
.progress-close-btn {background: none;border: none;font-size: 24px;cursor: pointer;color: var(--text-muted);padding: 0;width: 32px;height: 32px;display: flex;align-items: center;justify-content: center;border-radius: 8px;transition: all 0.2s ease;}
.progress-close-btn:hover {color: var(--text);background: var(--dark-blue);}
.progress-bar-container {width: 100%;height: 8px;background: var(--bg);border-radius: 4px;overflow: hidden;margin: 16px 0;border: 1px solid var(--border);}
.progress-bar {height: 100%;background: var(--blue);border-radius: 4px;transition: width 0.3s ease;width: 0%;}
.progress-text {font-size: 16px;color: var(--text);margin-bottom: 8px;font-weight: 600;}
.progress-details {font-size: 14px;color: var(--text-muted);margin-bottom: 16px;min-height: 20px;}
.btn-minimize {background: var(--dark-blue);border: 2px solid var(--border);color: var(--text);padding: 10px 20px;border-radius: 10px;cursor: pointer;font-size: 14px;font-weight: 600;transition: all 0.2s ease;width: 100%;}
.btn-minimize:hover {background: var(--blue);border-color: var(--blue);}

.mini-progress-container {position: fixed;bottom: 20px;right: 20px;background: var(--thead);border: 2px solid var(--border);border-radius: 12px;padding: 16px;box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);z-index: 9999;min-width: 280px;backdrop-filter: blur(10px);}
.mini-progress-content {display: flex;align-items: center;gap: 12px;}
.mini-progress-content span {font-size: 14px;color: var(--text);font-weight: 600;white-space: nowrap;flex-shrink: 0;}
.mini-progress-bar {flex: 1;height: 6px;background: var(--bg);border-radius: 3px;overflow: hidden;border: 1px solid var(--border);}
.mini-progress-bar-fill {height: 100%;background: var(--blue);border-radius: 3px;transition: width 0.3s ease;width: 0%;}
.btn-expand, .btn-cancel {background: none;border: none;cursor: pointer;font-size: 16px;padding: 6px;border-radius: 6px;width: 28px;height: 28px;display: flex;align-items: center;justify-content: center;transition: all 0.2s ease;flex-shrink: 0;}
.btn-expand {color: var(--text-muted);}
.btn-expand:hover {background: var(--dark-blue);color: var(--text);}
.btn-cancel {color: var(--red-text);}
.btn-cancel:hover {background: var(--red-bg);color: var(--red-text);}
.mini-progress-container {animation: slideInUp 0.3s ease;}
.progress-box {animation: slideInUp 0.3s ease;}
.progress-bar.success {background: var(--green-text);}
.progress-bar.error {background: var(--red-text);}
.progress-bar.warning {background: var(--yellow-text);}
.mini-progress-container.uploading::before {content: '';position: absolute;top: -2px;left: -2px;right: -2px;height: 3px;background: var(--blue);border-radius: 12px 12px 0 0;animation: pulse 2s infinite;}
.global-upload-indicator {position: fixed;bottom: 20px;right: 20px;z-index: 10000;animation: slideInUp 0.3s ease;}
body:has(.progress-container:not(.minimized)) .global-upload-indicator {display: none !important;}

.modal-overlay {position: fixed;top: 0;left: 0;right: 0;bottom: 0;background: var(--bg-muted);display: flex;align-items: center;justify-content: center;z-index: 1000;padding: 20px;}
.modal-overlay .dialog {width: 600px;max-width: 95vw;background: var(--panel);border: 2px solid var(--border);border-radius: 16px;padding: 24px;}
.export-info {padding: 16px;background: var(--thead);border: 2px solid var(--border);border-radius: 10px;margin-top: 8px;}
.export-info .fieldTitle {margin: 0;font-size: 14px;}
.modal .select-ui .select-btn {font-size: 16px;padding: 12px 36px 12px 16px;}
.modal .select-ui .select-menu {z-index: 1001;}

.notifications-grid {display: flex;flex-direction: column;gap: 12px;}
.notification { border-left: 7px solid var(--blue);padding: 16px;background: var(--thead);border-radius: 10px;display: flex;align-items: center;gap: 12px;}
.notification-error { border-left: 7px solid var(--red-text);padding: 16px;background: var(--thead);border-radius: 10px;display: flex;align-items: center;gap: 12px;}

.notification-id {font-weight: 600;min-width: 140px;padding-right: 12px;border-right: 3px solid var(--blue);}
.notification-text {flex: 1;}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
}